[gd_scene format=3 uid="uid://cw1fs4vp0p4tm"]

[ext_resource type="Texture2D" uid="uid://dc17niwfpgsco" path="res://assets/background2.png" id="1_8c8jm"]
[ext_resource type="Script" uid="uid://bnh5boial1cj" path="res://src/Game.gd" id="1_ok2ji"]
[ext_resource type="FontFile" uid="uid://bidxcbkineva8" path="res://assets/orkney/Orkney Bold.otf" id="2"]
[ext_resource type="Script" uid="uid://cn686bikpxokt" path="res://src/Board.gd" id="3_5q0ih"]
[ext_resource type="Texture2D" uid="uid://b4m0hi6q6qyv1" path="res://assets/chess_board.png" id="3_lva8y"]
[ext_resource type="PackedScene" path="res://src/SanDisplay.tscn" id="4"]
[ext_resource type="PackedScene" uid="uid://bs3dpx25leirq" path="res://piece.tscn" id="4_8c8jm"]
[ext_resource type="PackedScene" uid="uid://c0fhva7v6808" path="res://src/SettingsMenu.tscn" id="5"]
[ext_resource type="AudioStream" uid="uid://bwevr8ykpn5mf" path="res://assets/sound/move.wav" id="6"]
[ext_resource type="AudioStream" uid="uid://dduxkebeodh7u" path="res://assets/sound/check.wav" id="7"]
[ext_resource type="AudioStream" uid="uid://dy6o2j8gx7x32" path="res://assets/sound/capture.wav" id="8"]
[ext_resource type="AudioStream" uid="uid://ccu0i2ei68mup" path="res://assets/sound/terminal.wav" id="9"]
[ext_resource type="PackedScene" uid="uid://fctovp54ejhp" path="res://src/CreditsMenu.tscn" id="10"]
[ext_resource type="Script" uid="uid://b7ugoehrrxp5r" path="res://src/BotThinkingIndicator.gd" id="11"]
[ext_resource type="AudioStream" uid="uid://cwb5qngryeu6x" path="res://assets/sound/Music/chess.wav" id="12_at4if"]
[ext_resource type="Script" uid="uid://cc3mn6tdcx67p" path="res://src/music_sound.gd" id="13_0rf6s"]
[ext_resource type="Texture2D" uid="uid://cehncf6qrjq74" path="res://assets/ui/Love meter line art.png" id="14_8c8jm"]
[ext_resource type="Texture2D" uid="uid://6lah8fp32wc5" path="res://assets/paper.png" id="14_821k0"]
[ext_resource type="Script" uid="uid://dtgyntc27glnd" path="res://src/love_meter.gd" id="15_goodv"]
[ext_resource type="Shader" uid="uid://bcdviobdb1vg" path="res://src/reveal.gdshader" id="15_ok2ji"]
[ext_resource type="Material" uid="uid://down4o71bhsf" path="res://squigglevision_mat.tres" id="15_vxdjv"]
[ext_resource type="Texture2D" uid="uid://bsf6rpmbd3raf" path="res://assets/ui/Love meter smoke.png" id="16_goodv"]
[ext_resource type="Texture2D" uid="uid://cjwyg86s3i5cx" path="res://assets/ui/Love meter potion base.png" id="17_821k0"]
[ext_resource type="Texture2D" uid="uid://iujpasdg03p2" path="res://assets/ui/Love meter hearts.png" id="19_goodv"]
[ext_resource type="Script" uid="uid://dwfuef5wyt4ib" path="res://src/main_menu/fade_out.gd" id="22_aom5e"]

[sub_resource type="FontFile" id="1"]
fallbacks = Array[Font]([ExtResource("2")])
subpixel_positioning = 0
msdf_pixel_range = 14
msdf_size = 128
cache/0/variation_coordinates = {}
cache/0/face_index = 0
cache/0/embolden = 0.0
cache/0/transform = Transform2D(1, 0, 0, 1, 0, 0)
cache/0/spacing_top = 0
cache/0/spacing_bottom = 0
cache/0/spacing_space = 0
cache/0/spacing_glyph = 0
cache/0/baseline_offset = 0.0
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_821k0"]
shader = ExtResource("15_ok2ji")
shader_parameter/fill_percentage = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vxdjv"]
shader = ExtResource("15_ok2ji")
shader_parameter/fill_percentage = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_aom5e"]
shader = ExtResource("15_ok2ji")
shader_parameter/fill_percentage = 1.0

[node name="RealChess" type="Control" unique_id=909272398]
layout_mode = 3
anchors_preset = 0
script = ExtResource("1_ok2ji")

[node name="background" type="Sprite2D" parent="." unique_id=711312697]
position = Vector2(503.35822, 412.99988)
scale = Vector2(0.9973218, 0.99732184)
texture = ExtResource("1_8c8jm")

[node name="Board" type="Node2D" parent="." unique_id=671272455]
script = ExtResource("3_5q0ih")
piece = ExtResource("4_8c8jm")

[node name="Sprite2D" type="Sprite2D" parent="Board" unique_id=1260883085]
position = Vector2(498.966, 369.078)
scale = Vector2(0.41909626, 0.41909647)
texture = ExtResource("3_lva8y")

[node name="Game" type="Control" parent="." unique_id=1607607920]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 761.0
offset_top = 362.0
offset_right = 761.0
offset_bottom = 362.0
grow_horizontal = 2
grow_vertical = 2

[node name="C" type="CenterContainer" parent="Game" unique_id=1703768777]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 277.0
offset_bottom = 277.0
grow_horizontal = 2
grow_vertical = 2

[node name="V" type="VBoxContainer" parent="Game/C" unique_id=730249782]
custom_minimum_size = Vector2(1000, 0)
layout_mode = 2
theme_override_constants/separation = 12

[node name="H" type="HBoxContainer" parent="Game/C/V" unique_id=851478781]
layout_mode = 2

[node name="LSpacer" type="Control" parent="Game/C/V/H" unique_id=1295388937]
layout_mode = 2
size_flags_horizontal = 3

[node name="Title" type="Label" parent="Game/C/V/H" unique_id=1777540594]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
theme_override_constants/outline_size = 5
theme_override_fonts/font = SubResource("1")
text = "#StopWaitingForGodot Chess"
horizontal_alignment = 1

[node name="RSpacer" type="Control" parent="Game/C/V/H" unique_id=821739432]
layout_mode = 2
size_flags_horizontal = 3

[node name="H" type="HBoxContainer" parent="Game/C/V/H/RSpacer" unique_id=1231306399]
layout_mode = 0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_top = -13.0
offset_bottom = 13.0
theme_override_constants/separation = 20
alignment = 2

[node name="SettingsButton" type="Button" parent="Game/C/V/H/RSpacer/H" unique_id=960402421]
layout_mode = 2
text = "Settings"

[node name="CreditsButton" type="Button" parent="Game/C/V/H/RSpacer/H" unique_id=2046425439]
layout_mode = 2
text = "Credits"

[node name="C" type="CenterContainer" parent="Game/C/V" unique_id=1547201360]
layout_mode = 2

[node name="V" type="VBoxContainer" parent="Game/C/V/C" unique_id=2084559849]
layout_mode = 2
theme_override_constants/separation = 12

[node name="H" type="HBoxContainer" parent="Game/C/V/C/V" unique_id=580030462]
layout_mode = 2
theme_override_constants/separation = 30

[node name="SanDisplay" parent="Game/C/V/C/V/H" unique_id=1821147659 instance=ExtResource("4")]
visible = false
layout_mode = 2

[node name="H2" type="HBoxContainer" parent="Game/C/V/C/V" unique_id=401239303]
layout_mode = 2
theme_override_constants/separation = 20

[node name="ResetButton" type="Button" parent="Game/C/V/C/V/H2" unique_id=514341862]
layout_mode = 2
text = "New Game"

[node name="FlipButton" type="Button" parent="Game/C/V/C/V/H2" unique_id=494557387]
layout_mode = 2
text = "Flip"

[node name="UndoButton" type="Button" parent="Game/C/V/C/V/H2" unique_id=1878258839]
layout_mode = 2
text = "Undo"

[node name="Spacer" type="Control" parent="Game/C/V/C/V/H2" unique_id=1105125917]
custom_minimum_size = Vector2(30, 0)
layout_mode = 2

[node name="BotButton" type="Button" parent="Game/C/V/C/V/H2" unique_id=595899201]
layout_mode = 2
text = "Play Bot Move"

[node name="BotCheck" type="CheckBox" parent="Game/C/V/C/V/H2" unique_id=626821999]
layout_mode = 2
text = "Bot Enabled"

[node name="BotTimer" type="Timer" parent="Game/C/V/C/V/H2" unique_id=510042844]
wait_time = 0.1
one_shot = true

[node name="BotThinkingIndicator" type="Control" parent="Game/C/V/C/V/H2" unique_id=1647966617]
custom_minimum_size = Vector2(28, 28)
layout_mode = 2
script = ExtResource("11")

[node name="H2" type="HBoxContainer" parent="Game/C/V" unique_id=776654381]
layout_mode = 2
theme_override_constants/separation = 12

[node name="FenText" type="LineEdit" parent="Game/C/V/H2" unique_id=663943903]
layout_mode = 2
size_flags_horizontal = 3

[node name="SetFen" type="Button" parent="Game/C/V/H2" unique_id=549987440]
layout_mode = 2
text = "Set FEN"

[node name="InvalidFen" type="Label" parent="Game/C/V/H2" unique_id=107986849]
visible = false
layout_mode = 2
theme_override_colors/font_color = Color(0.913725, 0.247059, 0.247059, 1)
text = "Invalid FEN"

[node name="InvalidFenTimer" type="Timer" parent="Game/C/V/H2" unique_id=1080505622]
wait_time = 5.0
one_shot = true

[node name="SettingsMenu" parent="Game" unique_id=1446169887 instance=ExtResource("5")]

[node name="CreditsMenu" parent="Game" unique_id=549160077 instance=ExtResource("10")]
visible = false
layout_mode = 1

[node name="MoveSound" type="AudioStreamPlayer" parent="Game" unique_id=1721394747]
stream = ExtResource("6")
volume_db = -6.0

[node name="CaptureSound" type="AudioStreamPlayer" parent="Game" unique_id=456379974]
stream = ExtResource("8")
volume_db = -6.0

[node name="CheckSound" type="AudioStreamPlayer" parent="Game" unique_id=2062687617]
stream = ExtResource("7")
volume_db = -6.0

[node name="TerminalSound" type="AudioStreamPlayer" parent="Game" unique_id=1608531396]
stream = ExtResource("9")
volume_db = -6.0

[node name="MusicSound" type="AudioStreamPlayer" parent="Game" unique_id=485771712]
stream = ExtResource("12_at4if")
script = ExtResource("13_0rf6s")

[node name="Background" type="Sprite2D" parent="." unique_id=1985753143]
z_index = -100
position = Vector2(636.00006, 347)
rotation = 1.5707964
scale = Vector2(1.25, 1.25)
texture = ExtResource("14_821k0")
metadata/_edit_lock_ = true

[node name="LoveMeter" type="Sprite2D" parent="." unique_id=358004775]
process_mode = 3
material = ExtResource("15_vxdjv")
position = Vector2(1190, 185)
scale = Vector2(-0.2, 0.2)
texture = ExtResource("14_8c8jm")
script = ExtResource("15_goodv")
metadata/_edit_lock_ = true

[node name="Fill" type="Sprite2D" parent="LoveMeter" unique_id=228776297]
z_index = -1
material = SubResource("ShaderMaterial_821k0")
texture = ExtResource("16_goodv")

[node name="Jar" type="Sprite2D" parent="LoveMeter" unique_id=1661111531]
z_index = -1
material = SubResource("ShaderMaterial_vxdjv")
texture = ExtResource("17_821k0")

[node name="Hearts" type="Sprite2D" parent="LoveMeter" unique_id=790290173]
material = SubResource("ShaderMaterial_aom5e")
position = Vector2(-424.99997, -114.99999)
texture = ExtResource("19_goodv")

[node name="ColorRect" type="ColorRect" parent="." unique_id=662852818]
z_index = 999
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1280.0
offset_bottom = 720.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)
script = ExtResource("22_aom5e")
start_black = true

[connection signal="piece_dropped" from="Board" to="." method="_on_Square_piece_dropped"]
[connection signal="piece_grabbed" from="Board" to="." method="_on_Square_piece_grabbed"]
[connection signal="pressed" from="Game/C/V/H/RSpacer/H/SettingsButton" to="Game" method="_on_SettingsButton_pressed"]
[connection signal="pressed" from="Game/C/V/H/RSpacer/H/CreditsButton" to="Game" method="_on_CreditsButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/ResetButton" to="." method="_on_ResetButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/ResetButton" to="Game" method="_on_ResetButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/FlipButton" to="." method="_on_FlipButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/FlipButton" to="Game" method="_on_FlipButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/UndoButton" to="." method="_on_UndoButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/UndoButton" to="Game" method="_on_UndoButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/BotButton" to="." method="_on_BotButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/BotButton" to="Game" method="_on_BotButton_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/BotCheck" to="." method="_on_BotCheck_pressed"]
[connection signal="pressed" from="Game/C/V/C/V/H2/BotCheck" to="Game" method="_on_BotCheck_pressed"]
[connection signal="timeout" from="Game/C/V/C/V/H2/BotTimer" to="." method="_on_BotTimer_timeout"]
[connection signal="timeout" from="Game/C/V/C/V/H2/BotTimer" to="Game" method="_on_BotTimer_timeout"]
[connection signal="text_submitted" from="Game/C/V/H2/FenText" to="Game" method="_on_FenText_text_entered"]
[connection signal="pressed" from="Game/C/V/H2/SetFen" to="Game" method="_on_SetFen_pressed"]
[connection signal="timeout" from="Game/C/V/H2/InvalidFenTimer" to="Game" method="_on_InvalidFenTimer_timeout"]
[connection signal="changed" from="Game/SettingsMenu" to="Game" method="_on_SettingsMenu_settings_changed"]
